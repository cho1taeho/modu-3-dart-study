# ë™ê¸° ë¹„ë™ê¸°

### 1. ë™ê¸°(Synchronous)ë€?

- ì½”ë“œê°€ **ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ** ì‹¤í–‰ë¨
- í•˜ë‚˜ì˜ ì‘ì—…ì´ ëë‚˜ì•¼ ë‹¤ìŒ ì‘ì—…ì´ ì‹¤í–‰ë¨

```dart
void main() {
  print("A");
  print("B");
  print("C");
}
// ê²°ê³¼: A â†’ B â†’ C
```

### 2. ë¹„ë™ê¸°(Asynchronous)ë€?

- **ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…**(ì˜ˆ: íŒŒì¼ ì½ê¸°, API í˜¸ì¶œ ë“±)ì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , **ë‹¤ìŒ ì‘ì—…ì„ ë¨¼ì € ì‹¤í–‰**
- ë¹„ë™ê¸° ì‘ì—…ì€ `Future`, `async`, `await` í‚¤ì›Œë“œë¡œ í‘œí˜„ë¨

```dart
Future<String> fetchData() async {
  await Future.delayed(Duration(seconds: 2)); // 2ì´ˆ ëŒ€ê¸°
  return "ë°ì´í„° ë°›ì•„ì˜´";
}

void main() async {
  print("ì‹œì‘");
  String data = await fetchData();
  print(data);
  print("ë");
}
// ì¶œë ¥:
// ì‹œì‘
// (2ì´ˆ ëŒ€ê¸°)
// ë°ì´í„° ë°›ì•„ì˜´
// ë

```

### 3. Future: ë¹„ë™ê¸° ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´

- `Future<T>`ëŠ” **ë¯¸ë˜ì— T íƒ€ì…ì˜ ê°’ì„ ë°˜í™˜**í•  ê²ƒì´ë¼ëŠ” ì•½ì†
- ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥
    - `async/await`
    - `.then()` ì²´ì´ë‹

```dart
Future<int> getNumber() async => 42;

void main() {
  getNumber().then((value) => print("ìˆ«ì: $value"));
}

```

### 4. async / await í•µì‹¬ ì •ë¦¬

- `async`ëŠ” í•´ë‹¹ í•¨ìˆ˜ê°€ Futureë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì˜ë¯¸
- `await`ì€ Futureì˜ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ê³ , **ë‹¤ìŒ ì½”ë“œë¥¼ ë¸”ë¡ì²˜ëŸ¼ ê¸°ë‹¤ë¦¬ê²Œ í•¨**
- `main()` í•¨ìˆ˜ë„ `async` ë¶™ì¼ ìˆ˜ ìˆìŒ (Dart 2.1 ì´ìƒ)

```dart
Future<void> main() async {
  print("1");
  await Future.delayed(Duration(seconds: 1));
  print("2");
}

```

### 5. ë™ì‹œì„±(Concurrency) vs ë³‘ë ¬ì„±(Parallelism)

- **ë™ì‹œì„±(Concurrency)**: ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” **ë“¯ì´ ë³´ì´ê²Œ** í•¨ (ì‹±ê¸€ ìŠ¤ë ˆë“œì—ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ)
- **ë³‘ë ¬ì„±(Parallelism)**: ì—¬ëŸ¬ ì‘ì—…ì„ **ì§„ì§œ ë™ì‹œì—** ì‹¤í–‰ (ë©€í‹° ìŠ¤ë ˆë“œ í˜¹ì€ ë©€í‹° ì½”ì–´ì—ì„œ)

### 6. Isolateë¥¼ ì´ìš©í•œ ë³‘ë ¬ ì²˜ë¦¬

- DartëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì‹±ê¸€ ìŠ¤ë ˆë“œ**
- CPU ì§‘ì•½ì ì¸ ì‘ì—…ì€ `Isolate`ë¥¼ ì´ìš©í•˜ì—¬ **ë³‘ë ¬ ì²˜ë¦¬**í•  ìˆ˜ ìˆìŒ
- IsolateëŠ” ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê°€ì§€ë©°, ë©”ì„¸ì§€ë¥¼ í†µí•´ í†µì‹ í•¨

```dart
import 'dart:isolate';

void heavyTask(SendPort sendPort) {
  int result = 0;
  for (int i = 0; i < 100000000; i++) {
    result += i;
  }
  sendPort.send(result);
}

void main() async {
  ReceivePort receivePort = ReceivePort();
  await Isolate.spawn(heavyTask, receivePort.sendPort);

  receivePort.listen((message) {
    print("ê²°ê³¼: $message");
    receivePort.close();
  });
}

```

### 7. compute() í•¨ìˆ˜ (Flutter í•œì •)

- `Isolate`ë³´ë‹¤ ê°„ë‹¨í•˜ê²Œ ë³‘ë ¬ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•
- `flutter/foundation.dart`ì˜ `compute()` í•¨ìˆ˜ ì‚¬ìš©
- ë³µì¡í•œ ì—°ì‚°ì´ë‚˜ ì´ë¯¸ì§€ ì²˜ë¦¬ ë“±ì„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìˆ˜í–‰

```dart
import 'package:flutter/foundation.dart';

int sum(List<int> numbers) {
  return numbers.reduce((a, b) => a + b);
}

void main() async {
  List<int> bigList = List.generate(1000000, (i) => i);
  int result = await compute(sum, bigList);
  print("í•©ê³„: $result");
}
```

### ğŸ§  ë§ˆë¬´ë¦¬ ìš”ì•½

| ê°œë… | ì„¤ëª… |
| --- | --- |
| ë™ê¸° | ìˆœì°¨ ì‹¤í–‰, ê¸°ë‹¤ë¦¼ |
| ë¹„ë™ê¸° | ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰ (`Future`, `async/await`) |
| Future | ë‚˜ì¤‘ì— ê°’ì„ ë°˜í™˜í•  ê°ì²´ |
| async/await | ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” ë¬¸ë²• |
| ë³‘ë ¬ ì²˜ë¦¬ | CPU ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰ (Isolate, compute) |
| Isolate | Dartì˜ ë©€í‹°ìŠ¤ë ˆë”© ìœ ì‚¬ ê¸°ëŠ¥ |
| compute | Flutter ì „ìš© ë³‘ë ¬ì²˜ë¦¬ í•¨ìˆ˜ (Isolate ê¸°ë°˜) |